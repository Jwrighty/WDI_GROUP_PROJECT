<div class="pure-g headTitle">

  <div class="pure-u-1-2">
    <h1>{{controller.group.title}}</h1>
    <img src="{{controller.group.image}}" alt="">
    <p>{{ controller.group.description }}</p>
    <p><strong>Created by</strong> {{ controller.group.createdBy.username }}<a ng-show="MainCtrl.user._id === controller.group.createdBy._id" ui-sref="groupsEdit({ id: controller.group._id })" class="btn btn-primary">Edit</a></p>
  </div>


  <div class="attending pure-u-1-2">
    <p><strong>When: </strong>{{controller.group.dates}}</p>

    <p><strong>What: </strong>{{controller.group.description}}</p>

    <p><strong>Who's coming:</strong></p>
    <div class="pure-g">
      <div class="profile pure-u-1-3 " ng-repeat="item in controller.group.members">
        <img class="avatar pure-img" src="{{ item.image }}" alt="">
        <p>{{ item.username}}</p>
      </div>
    </div>
    <button ng-click="controller.members()"> Attend</button>
    <button ng-click="controller.notAttending()">leave group</button>
  </div>
</div>

<div class="pure-u-1-1 google-map">
  <google-map id="map"></google-map>
</div>

<div class="pac-card" id="pac-card" >
  <div>
    <div id="title" ng-show="MainCtrl.user._id === controller.group.createdBy._id">
      <p>Plan your trip</p>
    </div>

    <div id="pac-container" ng-show="MainCtrl.user._id === controller.group.createdBy._id">
      <input id="pac-input" type="text"
      placeholder="Enter a location">
    </div>
  </div>

  <div class="destinations">
    <form ng-submit="controller.addDestination()">
      <label for="name"></label>
      <input type="hidden" name="name" id="name" placeholder="name" value="{{name}}" ng-model="controller.destination.name">
      <label for="description"></label>
      <input type="hidden" name="description" id="description" value="{{description}}" placeholder="type" ng-model="controller.destination.description">

      <label for="lat"></label>
      <input type="hidden" name="lat" id="lat" placeholder="lat"  value="{{lat}}" ng-model="controller.destination.lat">

      <label for="long"></label>
      <input type="hidden" name="long" id="long" placeholder="long"  value="{{lng}}" ng-model="controller.destination.long">

      <button type="submit" name="button" class="pure-button" id="addBtn" ng-show="MainCtrl.user._id === controller.group.createdBy._id">Add Destination</button>
    </form>
  </div>
  <h3 id="currentDestination">Current Destinations</h3>
  <div class="pac-card2">
    <ul class="destination-list">
      <li ng-repeat="destination in controller.group.destinations" ng-click="controller.centerMapOnDestination($event, destination)" ng-class="{selected: item}" class="destination-card">
        {{ destination.name | limitTo : 35 }}
        <button class="pure-button" ng-click="controller.removeDestination(destination)" ng-show="MainCtrl.user._id === controller.group.createdBy._id">Delete</button>
      </li>
    </ul>
  </div>
</div>

<div class="pure-g container">
  <div class="pure-u">
    <form ng-submit="controller.addComment()" class="pure-form pure-form-stacked">
      <fieldset>
        <legend><h3>Comments</h3></legend>
        <input class="comments-box" type="text" ng-model="controller.comment.body" name="body" id="body">
        <button type="submit" name="button">Comment</button>
      </fieldset>
    </form>
  </div>

  <!-- main.user._id // current user who is logged in -->
  <!-- comment.user._id // id of user who posted the comment -->

  <!-- if the current user id is the SAME as the comment.user.id add css class of right -->
  <!-- if the current user id is not the SAME as the comment.user.id add css class of left -->


  <!--  -->

  <div class="pure-u">
    <div ng-repeat="comment in controller.group.comments">
      <ul>
        <li>
          <p><strong>{{ comment.user.username }}</strong>: {{ comment.body }}</p>
        </li>
      </ul>
    </div>
  </div>
</div>
